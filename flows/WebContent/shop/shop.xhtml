<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    template="/templates/main-template.xhtml">

<ui:define name="title">Today's Specials</ui:define>

<ui:define name="content">
<fieldset>
<legend>Nested Flows</legend>
<h:form>
<h:messages globalOnly="true" styleClass="error"/>
<h:panelGrid columns="3" styleClass="formTable">
  #{bookFlowBean.special1.title}
  (#{bookFlowBean.special1.dollars}): 
  <h:inputText value="#{bookFlowBean.special1.orders}" id="special1"
               required="true"
               requiredMessage="Cannot be blank"
               converterMessage="Must be whole number"
               validatorMessage="Cannot be negative">
    <f:validateLongRange minimum="0"/>
  </h:inputText>
  <h:message for="special1" styleClass="error"/>
  
  #{bookFlowBean.special2.title}
  (#{bookFlowBean.special2.dollars}): 
  <h:inputText value="#{bookFlowBean.special2.orders}" id="special2"
               required="true"
               requiredMessage="Cannot be blank"
               converterMessage="Must be whole number"
               validatorMessage="Cannot be negative">
    <f:validateLongRange minimum="0"/>
  </h:inputText>
  <h:message for="special2" styleClass="error"/>
  
  <f:facet name="footer">
    <h:commandButton value="View Cart" 
                     action="#{bookFlowBean.doOrder}"/>
    <h:commandButton value="Cancel Shopping" action="shop-return"
                     immediate="true"/>
  </f:facet>
</h:panelGrid>
</h:form>
</fieldset>
</ui:define>
  
</ui:composition>